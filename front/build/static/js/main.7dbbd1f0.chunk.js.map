{"version":3,"sources":["Nav.js","App.js","index.js"],"names":["Nav","props","nav","bind","this","nv","navio","divNavio","data","datos","addAllAttribs","updateCallback","select","console","log","id","ref","React","Component","App","getData","renderNav","dataReady","changeUrlValue","state","datos_2","datos_3","readyFreddy","pre_url","hay_vieja_1","hay_vieja_2","hay_vieja_3","type","onChange","placeholder","className","onClick","e","persist","setState","target","value","url","val","dats","length","historial","offset","fin","fetch","then","res","json","_datos","copy","concat","catch","err","copy2","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7dbbd1f0.chunk.js","sourcesContent":["import React from 'react';\r\nimport navio from 'navio';\r\nimport './Nav.css';\r\n\r\n\r\nclass Nav extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.props = props;\r\n    this.nav = this.nav.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.nav();\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.nav();\r\n  }\r\n\r\n  \r\n  nav(){\r\n    const nv = new navio(this.divNavio, 600);\r\n\r\n    nv.data(this.props.datos);\r\n    nv.addAllAttribs();\r\n\r\n    nv.updateCallback(select => {\r\n      console.log(\"cosas estan pasando\");\r\n    });\r\n\r\n  }\r\n\r\n  render(){\r\n    return(  \r\n    <div id=\"navioDIV\">    \r\n      <div \r\n        ref={divNavio => this.divNavio = divNavio}> \r\n      \r\n      </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Nav;","import React from 'react';\nimport './App.css';\nimport Nav from './Nav.js';\n\nclass App extends React.Component {\n  constructor(props){\n    super(props)\n\n    this.getData = this.getData.bind(this);\n    this.renderNav = this.renderNav.bind(this);\n    this.dataReady = this.dataReady.bind(this);\n    this.changeUrlValue = this.changeUrlValue.bind(this);\n\n    \n    this.state = {\n      datos: [],\n      datos_2: [],\n      datos_3: [],\n      readyFreddy: false,\n      pre_url: \"\",\n      hay_vieja_1: false,\n      hay_vieja_2: false,\n      hay_vieja_3: false\n    }\n  }\n\n  render(){\n    return (\n      <>\n      <div id=\"maindiv\">\n        <div>\n          <h1>DATAGOV-VISUALIZER</h1>\n          <p> Gregorio Ospina - 201631760</p>\n        </div>\n        <input type=\"text\" id=\"inputtext\" onChange={this.changeUrlValue} placeholder=\"Ingrese la URL\" />\n        <button id=\"btnorange\" className=\"btn btn-primary btn-sm\" onClick={this.dataReady}> Search </button> \n      </div>\n      <div id=\"grupoDeBotones\"> \n\n      </div>\n      <div className=\"row\">\n        <div className=\"col-4\">\n          {this.renderNav(\"1\")}\n        </div>\n        <div className=\"col-4\">\n          {this.renderNav(\"2\")}\n        </div>\n        <div className=\"col-4\">\n          {this.renderNav(\"3\")}\n        </div>\n      </div>\n      \n      </>\n    );\n  }\n\n  changeUrlValue(e){\n    e.persist();\n    this.setState({pre_url: e.target.value});\n    console.log(this.state.pre_url);\n  }\n\n  dataReady(){\n    let url = this.state.pre_url;\n    this.getData(url);\n  }\n\n  componentDidUpdate()\n  {\n  }\n\n  componentDidMount()\n  {\n    this.getData();\n  }\n\n  renderNav(val){\n    let dats;\n    if(val === \"1\"){\n      console.log(this.state);\n      dats = this.state.datos;\n    }\n    else if(val === \"2\"){\n      dats = this.state.datos_2.length === 0 ? \"none\" : this.state.datos_2;\n    }\n    else if(val === \"3\"){\n      dats = this.state.datos_3;\n      dats = this.state.datos_3.length === 0 ? \"none\" : this.state.datos_3;\n    }\n    console.log(this.state.readyFreddy);\n    if(this.state.readyFreddy === true && dats.length !== 0  && dats !== \"none\"){\n      console.log(dats);\n      return (\n      <>\n      <div>{this.historial(val)}</div>\n      <Nav datos={dats} />\n      </>\n      );\n    }\n    else if(dats === \"none\"){\n      return (<div className=\"historial\">  </div>);\n    }\n    else{\n      return (<div id=\"introduction\"> \n          <h1>BIENVENIDO A DATOSGOV-VIS! </h1>\n            <p>\n            El componente creativo es la funcionalidad de\n            el historial. Muestra las ultimas dos busquedas\n            realizadas por el usuario. No vuelve a hacer las\n            peticiones rest, estas se hacen una unica vez para no\n            hacer muy cargada la funcionalidad\n            </p>\n          </div>);\n    }\n  }\n\n  historial(val){\n    return val === \"1\"? \"Actual\" : val === \"2\" ? \"Historial 2\" : \"Historial 3\"\n  }\n\n\n/** BONO */\ngetAllData(url){\n  let offset = 0;\n  let limit = 1116;\n  let fin = false;\n  console.log(url);\n  while(fin === false){\n    console.log(\"hola\");\n    fetch(`${url}?$limit=${limit}&$offset=${offset}`)\n      .then(res => res.json())\n        .then(_datos =>{\n          console.log(offset);\n          let copy = {...this.state.datos};\n          copy.concat(_datos);\n          this.setState({datos: copy});\n          offset += limit;\n          if(_datos.length < limit){\n            fin = true;\n          }\n\n        })\n        .catch(err =>{\n          fin = true;\n        });\n  }\n\n}\n\n  getData(url){ \n    console.log(\"hola\");\n    fetch(url)\n      .then(res => res.json())\n      .then(_datos =>\n        {\n        console.log(_datos);\n        if(this.state.datos_2.length === 0){\n          let copy = this.state.datos;\n          this.setState({datos_2: copy});\n          this.setState({datos: _datos}, ()=>{\n            this.setState({readyFreddy: true});\n          });\n        } else if(this.state.datos_2.length !== 0){\n          let copy = this.state.datos;\n          let copy2 = this.state.datos_2;\n          this.setState({datos_3: copy2});\n          this.setState({datos_2: copy});\n          this.setState({datos: _datos}, ()=>{\n            this.setState({readyFreddy: true});\n          });\n        }\n        this.setState({datos: _datos}, ()=>{\n          this.setState({readyFreddy: true});\n        });\n      })\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}